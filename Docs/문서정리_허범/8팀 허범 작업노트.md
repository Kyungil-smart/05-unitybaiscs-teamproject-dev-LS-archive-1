# 오버 더 스카이 작업노트

- 들어가기 전 플레이어 이동을 맡으신 성규님께서 이동 로직에 기반하여 발판의 이동 스크립트 초안을 작성해주셨는데
그 걸 늦게 확인해서, 내 방식대로 발판 이동을 구현해 Jittering 현상이 발생
앞으로 협업할 때 깃 허브를 통해 신경써야할 부분을 잘 배운 것 같다.

## 이동 기믹

1. 발판 위에 "Player" 태그인 오브젝트가 있으면 플레이어의 리짓바디와 발판의 이동 거리를 더해 발판과 플레이어가 같이 움직이도록 함
클래스 상속을 통해 모든 발판에 적용할 수 있도록 함

2. PingPong Platform (왕복 발판) : A와 B 지점을 왕복하는 발판
- 빈 오브젝트로 A, B지점을 만들어놓고 MoveTowards로 Tile오브젝트가 A와 B지점을 왕복하게 함

3. Circular Platform (원형 발판) : pivot을 중심으로 공전하는 발판
- 빈 오브젝트를 pivot으로 설정하고 그 주위를 RotateAround로 공전하는 오브젝트

4. Rotating Obstacle (회전 장애물) : 회전하는 물체에 플레이어가 닿으면 튕겨져 나가는 장애물
- 플레이어 리짓바디에 AddImpulse로 ForceReceiver라는 클래스를 성규님이 만드셨고 
- Y축을 기준으로 회전하는 부모 오브젝트 Cylinder에 수직으로 자식 Cylinder를 배치해 "Player" 레이어인 오브젝트가 닿으면 ForceReceiver를 호출해 힘을 가해서 튕겨져 나가게 함

- 처음에는 플레이어에 ForceReceiver클래스가 없었기 때문에 AddForce로 날아가게 했는데, 날아가는 모션이 순간이동하는 것처럼 되서 
코루틴으로 0.1초동안 매 프레임마다 회전속도와 받는 힘을 나눠서 전달받아 오브젝트의 x축(- 통상적으로 왼쪽)과 약간의 y축(+ 위) 방향으로 부드럽게 튕겨나가게 함

5. Waypoint Platform(경로 발판) : 지정한 지점을 순회하는 발판
- 단순하게 왕복 발판에 C, D지점을 추가해서 A -> B -> C -> D -> A 순으로 Tile오브젝트가 순회하게 함
- 왕복 발판으로 대체될 수 있으며 맵 디자인상 사용하진 않음

## 느낀점
- 오브젝트의 이동 경로나 회전하는 물체의 범위를 Gizmo로 표현했다면 공부도 되고 좋았을 것 같음, 오브젝트의 움직임에만 신경쓰다가 프로젝트 막바지에 빌드본 돌려보면서 깨달음
- 개인 프로젝트와는 많이 다르다는 것을 느낌, 특히 Git의 Merge, Pull request와 코딩할 때 확장성, 상속, 컴포넌트,  인터페이스 등등
또한 프로젝트 일정에 맞춰 진행하는 것과 일의 배분 또 거기서 오는 변수에 대응하는 방법 등 많은 공부가 되었음
- 팀원들의 코드를 보는 것만으로도 많은 공부가 됨
