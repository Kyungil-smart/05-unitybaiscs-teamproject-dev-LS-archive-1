# DestroyPlatforms

**DestroyPlatforms**는 `DestroyPlatformsBase(ScriptableObject)`에 정의된 기믹 데이터를 기반으로,  
플레이어와의 충돌 시 **기믹의 활성화 타이밍을 제어하는 컨트롤러** 역할을 수행합니다.

이 클래스는 **“언제 실행할지(When)”만 판단**하며,  
**“어떻게 동작할지(How)”에 대한 구체적인 로직은 `DestroyPlatformsBase`에 위임**하는 구조로 설계되었습니다.

---

## 1. 감지 및 트리거 (Detection)
플레이어가 발판과 충돌하면 (`OnCollisionEnter`),  
사전에 설정된 기믹 데이터(`_platforms`)를 기준으로 기믹 동작을 시작합니다.

이 과정에서 `CurrentCoroutine` 변수를 검사하여 **중복 실행을 방지**하고,  
충돌 대상이 실제 플레이어인지 판별한 뒤에만 트리거가 작동하도록 설계해  
의도치 않은 로직 실행을 차단했습니다.

---

## 2. 시각적 연출 (Visual Feedback)
`RunForSeconds` 코루틴과 `OnGimmic` 메서드를 활용하여  
기믹의 **시각적 연출 흐름을 제어**했습니다.

이를 통해 연출의 시작과 종료 시점을 명확히 관리하고,  
게임 플레이 중 기믹의 상태 변화를 직관적으로 전달할 수 있도록 구성했습니다.

---

## 3. 상태 제어 및 복구 (Life Cycle)
시각적 연출이 종료되면 기믹 오브젝트를 `SetActive(false)`로 비활성화합니다.

비활성화 직전에 `_platforms.respawnTime(float)` 값을 다른 관리 로직에 전달하여,  
해당 오브젝트가 **몇 초 후 다시 활성화될지**를 명확히 정의합니다.

이 리스폰 로직을 통해 기믹은 일정 시간이 지난 후 자동으로 재활성화되며,  
단발성 소모 기믹이 아닌 **여러 번 재사용 가능한 순환형 기믹**으로 동작하도록 설계되었습니다.
